<div class="register-container">
  <div class="header">
    <h2>Registrar Médico</h2>
    <button type="button" class="back-btn" (click)="backToDashboard()">
      ← Volver al Dashboard
    </button>
  </div>

  <form (submit)="registerPhysician(); $event.preventDefault()" class="physician-form">
    <div class="form-row">
      <div class="form-group">
        <label for="name">Nombre *</label>
        <input 
          type="text" 
          id="name"
          [(ngModel)]="name" 
          name="name" 
          required
          [class.error]="!name.trim() && errorMessage"
          placeholder="Ingrese el nombre">
      </div>

      <div class="form-group">
        <label for="paternalLastName">Apellido Paterno *</label>
        <input 
          type="text" 
          id="paternalLastName"
          [(ngModel)]="paternalLastName" 
          name="paternalLastName" 
          required
          [class.error]="!paternalLastName.trim() && errorMessage"
          placeholder="Ingrese apellido paterno">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="maternalLastName">Apellido Materno</label>
        <input 
          type="text" 
          id="maternalLastName"
          [(ngModel)]="maternalLastName" 
          name="maternalLastName"
          placeholder="Ingrese apellido materno">
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input 
          type="email" 
          id="email"
          [(ngModel)]="email" 
          name="email" 
          required
          [class.error]="!isValidEmail(email) && errorMessage"
          placeholder="medico@ejemplo.com">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="password">Contraseña *</label>
        <input 
          type="password" 
          id="password"
          [(ngModel)]="password" 
          name="password" 
          required
          [class.error]="password.length < 8 && errorMessage"
          placeholder="Mínimo 8 caracteres">
      </div>

      <div class="form-group">
        <label for="specialty">Especialidad *</label>
        <select 
          id="specialty"
          [(ngModel)]="specialty" 
          name="specialty" 
          required
          [class.error]="!specialty.trim() && errorMessage">
          <option value="">Seleccione una especialidad</option>
          <option *ngFor="let spec of specialties" [value]="spec">
            {{ spec }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        class="submit-btn"
        [disabled]="isLoading">
        <span *ngIf="!isLoading">Registrar Médico</span>
        <span *ngIf="isLoading">Registrando...</span>
      </button>
    </div>

    <!-- Mensajes de estado -->
    <div class="messages">
      <p *ngIf="successMessage" class="success-message">
        ✓ {{ successMessage }}
      </p>
      <p *ngIf="errorMessage" class="error-message">
        ✗ {{ errorMessage }}
      </p>
    </div>
  </form>
</div>
