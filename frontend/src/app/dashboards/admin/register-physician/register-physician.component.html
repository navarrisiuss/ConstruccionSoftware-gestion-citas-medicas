<div class="register-container" [attr.data-mode]="isEditMode ? 'edit' : 'create'">
  <div class="header">
    <h2>{{ isEditMode ? 'Editar M√©dico' : 'Registrar M√©dico' }}</h2>
    <button type="button" class="back-btn" (click)="backToDashboard()">
      {{ getBackButtonText() }}
    </button>
  </div>

  <form (submit)="registerPhysician(); $event.preventDefault()" class="physician-form">
    <div class="form-row">
      <div class="form-group">
        <label for="name">Nombre *</label>
        <input 
          type="text" 
          id="name"
          [(ngModel)]="name" 
          name="name" 
          required
          [disabled]="isLoading"
          [class.error]="!name.trim() && errorMessage"
          placeholder="Ingrese el nombre">
      </div>

      <div class="form-group">
        <label for="paternalLastName">Apellido Paterno *</label>
        <input 
          type="text" 
          id="paternalLastName"
          [(ngModel)]="paternalLastName" 
          name="paternalLastName" 
          required
          [disabled]="isLoading"
          [class.error]="!paternalLastName.trim() && errorMessage"
          placeholder="Ingrese apellido paterno">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="maternalLastName">Apellido Materno</label>
        <input 
          type="text" 
          id="maternalLastName"
          [(ngModel)]="maternalLastName" 
          name="maternalLastName"
          [disabled]="isLoading"
          placeholder="Ingrese apellido materno">
      </div>

      <div class="form-group">
        <label for="email">Email *</label>
        <input 
          type="email" 
          id="email"
          [(ngModel)]="email" 
          name="email" 
          required
          [disabled]="isLoading"
          [class.error]="!isValidEmail(email) && errorMessage"
          placeholder="medico@ejemplo.com">
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="password">
          {{ isEditMode ? 'Nueva Contrase√±a (opcional)' : 'Contrase√±a *' }}
        </label>
        <div class="password-container">
          <input 
            type="password" 
            id="password"
            [(ngModel)]="password" 
            name="password" 
            [required]="!isEditMode"
            [disabled]="isLoading"
            [class.error]="password.length < 6 && errorMessage"
            [placeholder]="isEditMode ? 'Dejar vac√≠o para mantener actual' : 'M√≠nimo 6 caracteres'">
          <button 
            type="button" 
            class="password-toggle"
            (click)="togglePasswordVisibility()"
            [disabled]="isLoading">
            üëÅÔ∏è
          </button>
        </div>
        <small *ngIf="isEditMode" class="help-text">
          Deja este campo vac√≠o si no deseas cambiar la contrase√±a
        </small>
      </div>

      <div class="form-group">
        <label for="specialty">Especialidad *</label>
        <select 
          id="specialty"
          [(ngModel)]="specialty" 
          name="specialty" 
          required
          [disabled]="isLoading"
          [class.error]="!specialty.trim() && errorMessage">
          <option value="">Seleccione una especialidad</option>
          <option *ngFor="let spec of specialties" [value]="spec">
            {{ spec }}
          </option>
        </select>
      </div>
    </div>

    <div class="form-actions">
      <button 
        type="submit" 
        class="submit-btn"
        [disabled]="isLoading">
        <span *ngIf="!isLoading">
          {{ isEditMode ? 'Actualizar M√©dico' : 'Registrar M√©dico' }}
        </span>
        <span *ngIf="isLoading">
          {{ isEditMode ? 'Actualizando...' : 'Registrando...' }}
        </span>
      </button>
    </div>
  </form>
</div>